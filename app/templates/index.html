{% extends 'base.html' %}

{% block conteudo %}

<div class="container mt-5">
  {% if form.is_submitted() and form.validate() %}
    <div class="alert alert-success">
      Tarefa adicionada com sucesso!
      <br>
      Nome: {{ form.nome.data }}
      <br>
      Hora: {{ form.hora.data }}
    </div>
  {% endif %}
  <form action="{{ url_for('index') }}" method="post" class="formulario mx-auto p-4" style="max-width: 400px;">
    <h1 class="text-center text-warning">Adicionar Tarefa</h1>
    <div class="form-group">
      <label class="text-light">Nome</label>
      {{ form.nome(class="form-control bg-transparent text-light", placeholder="nome da tarefa") }}
    </div>
    <div class="form-group">
      <label class="text-light">Hora</label>
      {{ form.hora(class="form-control bg-transparent text-light", placeholder="horario da tarefa") }}
    </div>
    {{ form.csrf_token }}
    <div class="input-group">
      <button type="submit" class="btn btn-warning btn-block">adicionar</button>
    </div>
  </form>
  <div class="mt-5">
    <h2 class="text-center text-warning">Lista de Tarefas</h2>
    {% for tarefa in tarefas %}
      <div class="alert alert-info">
        Nome: {{ tarefa.nome }}
        <br>
        Hora: {{ tarefa.hora }}h
        <div>
            <a href="{{ url_for('editar_tarefa', tarefa_id=tarefa.id) }}" class="btn btn-primary btn-block">Editar</a>
            <form action="{{ url_for('deletar_tarefa', tarefa_id=tarefa.id) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-block">excluir</button>
          </form>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
